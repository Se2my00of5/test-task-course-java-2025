# Утилита фильтрации файлов

Консольная утилита на Java для фильтрации содержимого файлов по типам данных. Программа читает строки из указанных входных файлов, определяет, являются ли они целыми числами, вещественными числами или строками, и записывает их в разные выходные файлы.

## Основные возможности

*   **Фильтрация по типам:** Автоматически распознает и разделяет целые числа (integers), вещественные числа (floats) и строки (strings).
*   **Гибкий вывод:**
    *   По умолчанию создает файлы `integers.txt`, `floats.txt`, `strings.txt` в текущей директории.
    *   Опция `-o` позволяет указать произвольную директорию для сохранения результатов.
    *   Опция `-p` позволяет задать префикс для имен выходных файлов (например, `result_integers.txt`).
*   **Режимы записи:**
    *   По умолчанию файлы перезаписываются при каждом запуске.
    *   Опция `-a` включает режим добавления данных в конец существующих файлов.
*   **"Ленивое" создание файлов:** Выходной файл создается только в том случае, если в исходных данных найден хотя бы один элемент соответствующего типа. Пустые файлы не создаются.
*   **Сбор статистики:**
    *   Краткая статистика (`-s`) выводит количество элементов каждого типа.
    *   Полная статистика (`-f`) предоставляет расширенную информацию:
        *   Для чисел: min/max значения, сумма и среднее.
        *   Для строк: длина самой короткой и самой длинной строки.
*   **Надежная обработка ошибок:** Утилита обрабатывает ошибки, такие как отсутствующие файлы или некорректные аргументы, выводит информативные сообщения и старается продолжить выполнение, если это возможно.

## Системные требования

*   **Java:** Версия 17
*   **Система сборки:** Apache Maven 3.9.9
*   **Сторонние библиотеки:** описаны в pom.xml 

## Сборка проекта

Проект использует Maven для управления сборкой. Для сборки исполняемого JAR-файла выполните следующую команду в корневой папке проекта:

```bash
mvn clean package
```

Эта команда скомпилирует исходный код, запустит тесты и создаст исполняемый JAR-файл в директории `target/`. Имя файла будет соответствовать формату `util-1.jar` (название и версия могут отличаться в зависимости от настроек в `pom.xml`).

**Но также есть скомпилированный файл `util.jar`. С ним будет достаточно установить Java**

## Инструкция по запуску

Утилита запускается из командной строки.

**Общий синтаксис:**

```bash
java -jar <путь-к-jar-файлу> [опции] <входной-файл-1> [<входной-файл-2> ...]
```

### Опции командной строки

| Опция | Аргумент        | Описание                                                                                             |
| :---- | :-------------- | :--------------------------------------------------------------------------------------------------- |
| `-o`  | `<путь>`        | Указывает директорию для сохранения файлов с результатами.                                           |
| `-p`  | `<префикс>`     | Задает префикс для имен выходных файлов (например, `result_`).                                        |
| `-a`  | -               | Включает режим добавления данных в существующие файлы. По умолчанию файлы перезаписываются.          |
| `-s`  | -               | Включает вывод краткой статистики по каждому типу данных.                                            |
| `-f`  | -               | Включает вывод полной статистики по каждому типу данных.                                             |

**Примечание:** Опции `-s` и `-f` являются взаимоисключающими.

### Примеры использования
1. Созданы 3 файла (`file1.txt`, `file2.txt`, `file3.txt`), которые можно использовать для проверки
2. В `file3.txt` написаны разные команды, которые тестируют большинство случаев

## Особенности реализации

*   **Обработка дубликатов:**
    *   Дублирующиеся **имена входных файлов** в аргументах командной строки игнорируются. Программа выведет предупреждение и обработает каждый уникальный файл только один раз.
    *   Дублирующиеся **опции** (например, `-o path1 -o path2`) приведут к ошибке и завершению программы.
*   **Классификация данных:** Определение типа данных происходит в строгой последовательности:
    1.  Попытка распознать как целое число (`Long`).
    2.  Если не удалось, попытка распознать как вещественное число (`Double`).
    3.  Если обе попытки не удались, данные считаются строкой.
